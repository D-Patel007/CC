-- Add these changes to your schema.prisma file:

-- 1. Add MessageType enum after the Condition enum:
enum MessageType {
  TEXT
  PHOTO
  VOICE
}

-- 2. Update Message model to include messageType and mediaUrl fields:
model Message {
  id             Int          @id @default(autoincrement())
  conversationId Int
  conversation   Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)
  senderId       Int
  sender         Profile      @relation("SentMessages", fields: [senderId], references: [id], onDelete: Cascade)
  receiverId     Int
  receiver       Profile      @relation("ReceivedMessages", fields: [receiverId], references: [id], onDelete: Cascade)
  content        String
  messageType    MessageType  @default(TEXT)
  mediaUrl       String?
  isRead         Boolean      @default(false)
  createdAt      DateTime     @default(now())
  
  @@index([conversationId])
  @@index([senderId])
  @@index([receiverId])
}
